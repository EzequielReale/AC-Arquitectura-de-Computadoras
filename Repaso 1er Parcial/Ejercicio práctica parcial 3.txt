PA    EQU 30H
PB    EQU 31H
CA    EQU 32H
CB    EQU 33H

ORG 20
RUT_F10 DW LED

ORG 1000H
COMPARADOR DB 1,2,4,8,16,32,64,128
FIN DB ?

ORG 3000H
LED: DEC BX
MOV AL, [BX]
OUT PB, AL
CMP AL, 1
JNZ FINAL

MOV BX, OFFSET FIN

FINAL: MOV AL, 20H
OUT EOI, AL
IRET

ORG 2000H
MOV AL, 0
OUT CB, AL
MOV BX, OFFSET FIN

CLI
MOV AL, 11111110B
OUT IMR, AL

MOV AL, 5
OUT INT0, AL
STI

LOOP: JMP LOOP

INT 0
END