EOI   EQU 20H
IMR   EQU 21H
INT0  EQU 24H
PA    EQU 30H
CA    EQU 32H

ORG 20
RUT_F10 DW LEER

ORG 1200H
BITS DB ?

ORG 3000H
LEER: IN AL, PA
MOV BX, OFFSET BITS
MOV [BX], AL
DEC CL
MOV AL, 20H
OUT EOI, AL
IRET

ORG 2000H
MOV AL, 0FFH
OUT CA, AL

MOV CL, 1

CLI
MOV AL, 11111110B
OUT IMR, AL

MOV AL, 5
OUT INT0, AL
STI


LOOP: CMP CL, 0
JNZ LOOP

MOV AL, 1
INT 7

INT 0
END
