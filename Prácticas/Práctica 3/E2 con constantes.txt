N_CLK EQU 10
N_F10 EQU 20
TIMER EQU 10H
CONT  EQU 10H
COMP  EQU 11H
PIC   EQU 20H
EOI   EQU 20H
IMR   EQU 21H
INT0  EQU 24H
INT1  EQU 25H
INT2  EQU 26H
INT3  EQU 27H
PIO   EQU 30H
PA    EQU 30H
PB    EQU 31H
CA    EQU 32H
CB    EQU 33H


ORG 40
IP_CLK DW RUT_CLK

ORG 1000H
INICIO DB 0

ORG 3000H
RUT_CLK:INC INICIO
CMP INICIO, 0FFH
JNZ LUCES
MOV INICIO, 0
LUCES: MOV AL, INICIO
OUT PB, AL
MOV AL, 0
OUT CONT, AL
MOV AL, 20H
OUT EOI, AL
IRET

ORG 2000H
CLI
MOV AL, 0FDH
OUT IMR, AL
MOV AL, N_CLK
OUT INT1, AL
MOV AL, 1
OUT COMP,AL
MOV AL, 0
OUT CB, AL
OUT PB, AL
OUT CONT, AL
STI

LAZO: JMP LAZO

INT 0
END